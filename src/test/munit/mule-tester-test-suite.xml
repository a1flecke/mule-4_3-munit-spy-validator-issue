<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:munit="http://www.mulesoft.org/schema/mule/munit"
	xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
	<munit:config name="mule-tester-test-suite.xml" />
	<http:request-config name="HTTP_Request_configuration" doc:name="HTTP Request configuration" doc:id="57fe1201-2e18-46b3-8f7f-23a6bdf99725" responseTimeout="100000000">
		<http:request-connection host="0.0.0.0" port="8081" connectionIdleTimeout="3000000"/>
	</http:request-config>
	<munit:test name="mule-tester-test-suite-mule-testerFlowTest1" doc:id="92145956-ba67-49fa-9118-7e0a2cd5222c" description="Test">
		<munit:execution >
			<set-payload value="My Test Payload" doc:name="Set Payload" doc:id="52b73f26-8aa5-4afd-8030-f89463dfe61b" />
			<flow-ref doc:name="Flow-ref to mule-testerFlow" doc:id="3fc43a1d-a8cd-4859-80dc-3ca5bc86488e" name="mule-testerFlow"/>
		</munit:execution>
		<munit:validation >
			<set-variable value="#[%dw 2.0
output application/json
---

readUrl('classpath://example-json.json',&quot;application/json&quot;)]" doc:name="Set Variable R1" doc:id="6ee224d0-015f-49f3-b09f-69985c515ed0" variableName="left"/>
			<set-variable value="#[%dw 2.0
output application/json
---

readUrl('classpath://example-json.json','application/json')]" doc:name="Set Variable R2" doc:id="e9e813da-31ec-487f-8845-f39343853023" variableName="right"/>
			<munit-tools:assert-that doc:name="Assert that left and right are equal" doc:id="b29d4ecc-fc8b-4b40-af5c-080f0ae4a631" message="*** THIS SHOULD NOT FAIL***" expression="#[vars.left]" is="#[MunitTools::equalTo(vars.right)]"/>
		</munit:validation>
	</munit:test>

</mule>
